<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPro Review Blog</title>

    <!-- Optional Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>CPro Review Blog</h1>
<p>Welcome! Here are my latest blog posts, reviews, and projects.</p>
<hr>

<!-- Blog Post Links -->
<div class="blog-list">
    <div class="blog-item mb-3">
        <h2><a href="post1.html">Post 1 - My First Blog</a></h2>
        <p>A short description of Post 1. Learn about my experiences, reviews, and insights.</p>
    </div>
    <div class="blog-item mb-3">
        <h2><a href="post2.html">Post 2 - Upcoming Review</a></h2>
        <p>A preview of Post 2. Stay tuned for detailed reviews and guides.</p>
    </div>
    <div class="blog-item mb-3">
        <h2><a href="post3.html">Post 3 - Projects Showcase</a></h2>
        <p>Highlighting my latest projects, experiments, and tech explorations.</p>
    </div>
</div>

<hr>

<!-- Newsletter Signup -->
<h2>Subscribe to my Newsletter:</h2>
<form id="newsletter-form">
    <input type="text" id="name" placeholder="Your Name" required class="form-control mb-2">
    <input type="email" id="email" placeholder="Your Email" required class="form-control mb-2">
    <button type="submit" class="btn btn-primary">Subscribe</button>
</form>
<p id="newsletter-msg"></p>

<hr>

<!-- Contact Form -->
<h2>Contact Me:</h2>
<form id="contact-form">
    <input type="text" id="contact-name" placeholder="Your Name" required class="form-control mb-2">
    <input type="email" id="contact-email" placeholder="Your Email" required class="form-control mb-2">
    <textarea id="contact-message" placeholder="Your Message" required class="form-control mb-2"></textarea>
    <button type="submit" class="btn btn-success">Send Message</button>
</form>
<p id="contact-msg"></p>

<hr>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
<script>
    // ---------- Newsletter Subscription ----------
    document.getElementById('newsletter-form').addEventListener('submit', function(e){
        e.preventDefault();
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;

        fetch('https://script.google.com/macros/s/AKfycbwGvCZuDpuV7T60mUMcePUt0SN5d7MUhQ9xQ3Lmmivj33lSKo6Csn9xv1IPhOOVT4li/exec', {
            method: 'POST',
            body: JSON.stringify({name: name, email: email})
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('newsletter-msg').textContent = "Subscribed successfully!";
            document.getElementById('newsletter-form').reset();
            emailjs.send('service_8fe6yij', 'template_wxvjwg9', {
                from_name: name,
                from_email: email,
                message: "New newsletter subscription"
            });
        })
        .catch(error => {
            document.getElementById('newsletter-msg').textContent = "Subscription failed. Try again.";
            console.error(error);
        });
    });

    // ---------- Initialize EmailJS ----------
    (function(){ emailjs.init("Ow9sGUE6hSO-EpF_T"); })();

    // ---------- Contact Form ----------
    document.getElementById('contact-form').addEventListener('submit', function(e){
        e.preventDefault();
        const name = document.getElementById('contact-name').value;
        const email = document.getElementById('contact-email').value;
        const message = document.getElementById('contact-message').value;

        emailjs.send('service_8fe6yij', 'template_wxvjwg9', {
            from_name: name,
            from_email: email,
            message: message
        })
        .then(() => {
            document.getElementById('contact-msg').textContent = "Message sent!";
            document.getElementById('contact-form').reset();
        }, (err) => {
            document.getElementById('contact-msg').textContent = "Failed to send message.";
            console.error("EmailJS error:", err);
        });
    });
</script>

</body>
</html>
